<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Jose Storopoli" />
  <meta name="author" content="Rik Huijzer" />
  <meta name="author" content="Lazaro Alonso" />
  <title>Julia Standard Library - Julia Data Science</title>
  <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
  <link rel="stylesheet" href="/style.css"/>
    <script src="/mousetrap.min.js"></script>
    <style>
  @font-face {
    font-family: JuliaMono-Regular;
    src: url("/JuliaMono-Regular.woff2");
  }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <link rel="stylesheet" href="/github.min.css">
<script src="/highlight.min.js"></script>
<script src="/julia.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('pre').forEach((el) => {
        if (!el.classList.contains('output')) {
            hljs.highlightElement(el);
        }
    });
});
</script>
 
</head>
<body>
<script>
function click_next() {
  var next = document.getElementById('nav-next');
  next.firstElementChild.nextElementSibling.click();
}
function click_prev() {
  var prev = document.getElementById('nav-prev');
  prev.firstElementChild.click();
}
Mousetrap.bind('right', click_next);
Mousetrap.bind('h', click_prev);
Mousetrap.bind('left', click_prev);
Mousetrap.bind('l', click_next);
</script>

<div class="books-container">
<aside class="books-menu">
<input type="checkbox" id="menu">
<label for="menu">☰</label>
<div class="books-title">
<a href="/">Julia Data Science</a>
</div><br />
<span class="books-subtitle">

</span>
<div class="books-menu-content">
<li><a class="menu-level-1" href="/preface"><b>1</b> Preface</a></li>
<li><a class="menu-level-2" href="/why_data_science"><b>1.1</b> What is Data Science?</a></li>
<li><a class="menu-level-2" href="/engineering"><b>1.2</b> Software Engineering</a></li>
<li><a class="menu-level-2" href="/acknowledgements"><b>1.3</b> Acknowledgements</a></li>
<li><a class="menu-level-1" href="/why_julia"><b>2</b> Why Julia?</a></li>
<li><a class="menu-level-2" href="/non-programmers"><b>2.1</b> For Non-Programmers</a></li>
<li><a class="menu-level-2" href="/programmers"><b>2.2</b> For Programmers</a></li>
<li><a class="menu-level-2" href="/julia_accomplish"><b>2.3</b> What Julia Aims to Accom..</a></li>
<li><a class="menu-level-2" href="/julia_wild"><b>2.4</b> Julia in the Wild</a></li>
<li><a class="menu-level-1" href="/julia_basics"><b>3</b> Julia Basics</a></li>
<li><a class="menu-level-2" href="/ide"><b>3.1</b> Development Environments</a></li>
<li><a class="menu-level-2" href="/syntax"><b>3.2</b> Language Syntax</a></li>
<li><a class="menu-level-2" href="/data_structures"><b>3.3</b> Native Data Structures</a></li>
<li><a class="menu-level-2" href="/filesystem"><b>3.4</b> Filesystem</a></li>
<li><a class="menu-level-2" href="/standardlibrary"><b>3.5</b> Julia Standard Library</a></li>
<li><a class="menu-level-1" href="/dataframes"><b>4</b> DataFrames.jl</a></li>
<li><a class="menu-level-2" href="/load_save"><b>4.1</b> Load and Save Files</a></li>
<li><a class="menu-level-2" href="/index-and-summarize"><b>4.2</b> Index and Summarize</a></li>
<li><a class="menu-level-2" href="/filter_subset"><b>4.3</b> Filter and Subset</a></li>
<li><a class="menu-level-2" href="/select"><b>4.4</b> Select</a></li>
<li><a class="menu-level-2" href="/types"><b>4.5</b> Types and Categorical Da..</a></li>
<li><a class="menu-level-2" href="/join"><b>4.6</b> Join</a></li>
<li><a class="menu-level-2" href="/transform"><b>4.7</b> Variable Transformations</a></li>
<li><a class="menu-level-2" href="/groupby_combine"><b>4.8</b> Groupby and Combine</a></li>
<li><a class="menu-level-2" href="/missing"><b>4.9</b> Missing Data</a></li>
<li><a class="menu-level-2" href="/df_performance"><b>4.10</b> Performance</a></li>
<li><a class="menu-level-1" href="/dataframesmeta"><b>5</b> DataFramesMeta.jl</a></li>
<li><a class="menu-level-2" href="/dataframesmeta_macros"><b>5.1</b> Macros</a></li>
<li><a class="menu-level-2" href="/dataframesmeta_select"><b>5.2</b> Column Selection</a></li>
<li><a class="menu-level-2" href="/dataframesmeta_transform"><b>5.3</b> Column Transformation</a></li>
<li><a class="menu-level-2" href="/dataframesmeta_subset"><b>5.4</b> Row Selection</a></li>
<li><a class="menu-level-2" href="/dataframesmeta_orderby"><b>5.5</b> Row Sorting</a></li>
<li><a class="menu-level-2" href="/dataframesmeta_combine"><b>5.6</b> Data Summaries</a></li>
<li><a class="menu-level-2" href="/dataframesmeta_chain"><b>5.7</b> Piping Operations</a></li>
<li><a class="menu-level-1" href="/DataVisualizationMakie"><b>6</b> Data Visualization with Ma..</a></li>
<li><a class="menu-level-2" href="/cairomakie"><b>6.1</b> CairoMakie.jl</a></li>
<li><a class="menu-level-2" href="/datavisMakie_attributes"><b>6.2</b> Attributes</a></li>
<li><a class="menu-level-2" href="/datavisMakie_create_Figure"><b>6.3</b> Create Plot Figure</a></li>
<li><a class="menu-level-2" href="/makie_cheat_sheets"><b>6.4</b> Cheat Sheets</a></li>
<li><a class="menu-level-2" href="/themes"><b>6.5</b> Themes</a></li>
<li><a class="menu-level-2" href="/using-latexstrings.jl"><b>6.6</b> Using LaTeXStrings.jl</a></li>
<li><a class="menu-level-2" href="/makie_colors"><b>6.7</b> Colors and Colormaps</a></li>
<li><a class="menu-level-2" href="/makie_layouts"><b>6.8</b> Layouts</a></li>
<li><a class="menu-level-2" href="/glmakie"><b>6.9</b> GLMakie.jl</a></li>
<li><a class="menu-level-2" href="/recipe_df"><b>6.10</b> A Makie recipe for a Da..</a></li>
<li><a class="menu-level-1" href="/aog"><b>7</b> Data Visualization with Al..</a></li>
<li><a class="menu-level-2" href="/aog_layers"><b>7.1</b> Layers</a></li>
<li><a class="menu-level-2" href="/aog_layouts"><b>7.2</b> Layouts</a></li>
<li><a class="menu-level-2" href="/aog_stats"><b>7.3</b> Statistical Visualizatio..</a></li>
<li><a class="menu-level-2" href="/aog_custom"><b>7.4</b> Plot Customizations</a></li>
<li><a class="menu-level-2" href="/aog_makie"><b>7.5</b> Makie.jl and AlgebraOfGr..</a></li>
<li><a class="menu-level-1" href="/appendix"><b>8</b> Appendix</a></li>
<li><a class="menu-level-2" href="/appendix_pkg"><b>8.1</b> Packages Versions</a></li>
<li><a class="menu-level-2" href="/notation"><b>8.2</b> Notation</a></li>
<li><a class="menu-level-1" href="/references"><b></b> References</a></li>
</div>
</aside>

<div class="books-content">
<h2 data-number="3.5" id="sec:standardlibrary"><span class="header-section-number">3.5</span> Julia Standard Library</h2>
<p>Julia has a <strong>rich standard library</strong> that is available with <em>every</em> Julia installation. Contrary to everything that we have seen so far, e.g. types, data structures and filesystem; you <strong>must load standard library modules into your environment</strong> to use a particular module or function.</p>
<p>This is done via <code>using</code> or <code>import</code>. In this book, we will load code via <code>using</code>:</p>
<pre class="julia"><code>using ModuleName</code></pre>
<p>After doing this, you can access all functions and types inside <code>ModuleName</code>.</p>
<h3 data-number="3.5.1" id="sec:dates"><span class="header-section-number">3.5.1</span> Dates</h3>
<p>Knowing how to handle dates and timestamps is important in data science. As we said in <em>Why Julia?</em> (Section <a href="/why_julia#sec:why_julia">2</a>) section, Python’s <code>pandas</code> uses its own <code>datetime</code> type to handle dates. The same is true in the R tidyverse’s <code>lubridate</code> package, which also defines its own <code>datetime</code> type to handle dates. In Julia packages don’t need to write their own dates logic, because Julia has a dates module in its standard library called <code>Dates</code>.</p>
<p>To begin, let’s load the <code>Dates</code> module:</p>
<pre class="julia"><code>using Dates</code></pre>
<h4 data-number="3.5.1.1" id="sec:dates_types"><span class="header-section-number">3.5.1.1</span> <code>Date</code> and <code>DateTime</code> Types</h4>
<p>The <code>Dates</code> standard library module has <strong>two types for working with dates</strong>:</p>
<ol type="1">
<li><code>Date</code>: representing time in days and</li>
<li><code>DateTime</code>: representing time in millisecond precision.</li>
</ol>
<p>We can construct <code>Date</code> and <code>DateTime</code> with the default constructor either by specifying an integer to represent year, month, day, hours and so on:</p>
<pre class="language-julia"><code>Date(1987) # year</code></pre>
<pre class="output"><code>1987-01-01</code></pre>
<pre class="language-julia"><code>Date(1987, 9) # year, month</code></pre>
<pre class="output"><code>1987-09-01</code></pre>
<pre class="language-julia"><code>Date(1987, 9, 13) # year, month, day</code></pre>
<pre class="output"><code>1987-09-13</code></pre>
<pre class="language-julia"><code>DateTime(1987, 9, 13, 21) # year, month, day, hour</code></pre>
<pre class="output"><code>1987-09-13T21:00:00</code></pre>
<pre class="language-julia"><code>DateTime(1987, 9, 13, 21, 21) # year, month, day, hour, minute</code></pre>
<pre class="output"><code>1987-09-13T21:21:00</code></pre>
<p>For the curious, September 13th 1987, 21:21 is the official time of birth of the first author, Jose.</p>
<p>We can also pass <code>Period</code> types to the default constructor. <strong><code>Period</code> types are the human-equivalent representation of time</strong> for the computer. Julia’s <code>Dates</code> have the following <code>Period</code> abstract subtypes:</p>
<pre class="language-julia"><code>subtypes(Period)</code></pre>
<pre class="output"><code>DatePeriod</code></pre>
<pre class="output"><code>TimePeriod</code></pre>
<p>which divide into the following concrete types, and they are pretty much self-explanatory:</p>
<pre class="language-julia"><code>subtypes(DatePeriod)</code></pre>
<pre class="output"><code>Day</code></pre>
<pre class="output"><code>Month</code></pre>
<pre class="output"><code>Quarter</code></pre>
<pre class="output"><code>Week</code></pre>
<pre class="output"><code>Year</code></pre>
<pre class="language-julia"><code>subtypes(TimePeriod)</code></pre>
<pre class="output"><code>Hour</code></pre>
<pre class="output"><code>Microsecond</code></pre>
<pre class="output"><code>Millisecond</code></pre>
<pre class="output"><code>Minute</code></pre>
<pre class="output"><code>Nanosecond</code></pre>
<pre class="output"><code>Second</code></pre>
<p>So, we could alternatively construct Jose’s official time of birth as:</p>
<pre class="language-julia"><code>DateTime(Year(1987), Month(9), Day(13), Hour(21), Minute(21))</code></pre>
<pre class="output"><code>1987-09-13T21:21:00</code></pre>
<h4 data-number="3.5.1.2" id="sec:dates_parsing"><span class="header-section-number">3.5.1.2</span> Parsing Dates</h4>
<p>Most of the time, we won’t be constructing <code>Date</code> or <code>DateTime</code> instances from scratch. Actually, we will probably be <strong>parsing strings as <code>Date</code> or <code>DateTime</code> types</strong>.</p>
<p>The <code>Date</code> and <code>DateTime</code> constructors can be fed a string and a format string. For example, the string <code>"19870913"</code> representing September 13th 1987 can be parsed with:</p>
<pre class="language-julia"><code>Date(&quot;19870913&quot;, &quot;yyyymmdd&quot;)</code></pre>
<pre class="output"><code>1987-09-13</code></pre>
<p>Notice that the second argument is a string representation of the format. We have the first four digits representing year <code>y</code>, followed by two digits for month <code>m</code> and finally two digits for day <code>d</code>.</p>
<p>It also works for timestamps with <code>DateTime</code>:</p>
<pre class="language-julia"><code>DateTime(&quot;1987-09-13T21:21:00&quot;, &quot;yyyy-mm-ddTHH:MM:SS&quot;)</code></pre>
<pre class="output"><code>1987-09-13T21:21:00</code></pre>
<p>You can find more on how to specify different date formats in the <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.DateFormat">Julia <code>Dates</code>’ documentation</a>. Don’t worry if you have to revisit it all the time, we ourselves do that too when working with dates and timestamps.</p>
<p>According to <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Constructors">Julia <code>Dates</code>’ documentation</a>, using the <code>Date(date_string, format_string)</code> method is fine if it’s only called a few times. If there are many similarly formatted date strings to parse, however, it is much more efficient to first create a <code>DateFormat</code> type, and then pass it instead of a raw format string. Then, our previous example becomes:</p>
<pre class="language-julia"><code>format = DateFormat(&quot;yyyymmdd&quot;)
Date(&quot;19870913&quot;, format)</code></pre>
<pre class="output"><code>1987-09-13</code></pre>
<p>Alternatively, without loss of performance, you can use the string literal prefix <code>dateformat"..."</code>:</p>
<pre class="language-julia"><code>Date(&quot;19870913&quot;, dateformat&quot;yyyymmdd&quot;)</code></pre>
<pre class="output"><code>1987-09-13</code></pre>
<h4 data-number="3.5.1.3" id="sec:dates_information"><span class="header-section-number">3.5.1.3</span> Extracting Date Information</h4>
<p>It is easy to <strong>extract desired information from <code>Date</code> and <code>DateTime</code> objects</strong>. First, let’s create an instance of a very special date:</p>
<pre class="language-julia"><code>my_birthday = Date(&quot;1987-09-13&quot;)</code></pre>
<pre class="output"><code>1987-09-13</code></pre>
<p>We can extract anything we want from <code>my_birthday</code>:</p>
<pre class="language-julia"><code>year(my_birthday)</code></pre>
<pre class="output"><code>
1987
</code></pre>
<pre class="language-julia"><code>month(my_birthday)</code></pre>
<pre class="output"><code>
9
</code></pre>
<pre class="language-julia"><code>day(my_birthday)</code></pre>
<pre class="output"><code>
13
</code></pre>
<p>Julia’s <code>Dates</code> module also has <strong>compound functions that return a tuple of values</strong>:</p>
<pre class="language-julia"><code>yearmonth(my_birthday)</code></pre>
<pre class="output"><code>(1987, 9)</code></pre>
<pre class="language-julia"><code>monthday(my_birthday)</code></pre>
<pre class="output"><code>(9, 13)</code></pre>
<pre class="language-julia"><code>yearmonthday(my_birthday)</code></pre>
<pre class="output"><code>(1987, 9, 13)</code></pre>
<p>We can also see the day of the week and other handy stuff:</p>
<pre class="language-julia"><code>dayofweek(my_birthday)</code></pre>
<pre class="output"><code>
7
</code></pre>
<pre class="language-julia"><code>dayname(my_birthday)</code></pre>
<pre class="output"><code>
Sunday
</code></pre>
<pre class="language-julia"><code>dayofweekofmonth(my_birthday)</code></pre>
<pre class="output"><code>
2
</code></pre>
<p>Yep, Jose was born on the second Sunday of September.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> Here’s a handy tip to just recover weekdays from <code>Dates</code> instances. Just use a <code>filter</code> on <code>dayofweek(your_date) &lt;= 5</code>. For business day you can checkout the <a href="https://github.com/JuliaFinance/BusinessDays.jl"><code>BusinessDays.jl</code></a> package.</p>
</blockquote>
<h4 data-number="3.5.1.4" id="sec:dates_operations"><span class="header-section-number">3.5.1.4</span> Date Operations</h4>
<p>We can perform <strong>operations</strong> in <code>Dates</code> instances. For example, we can add days to a <code>Date</code> or <code>DateTime</code> instance. Notice that Julia’s <code>Dates</code> will automatically perform the adjustments necessary for leap years, and for months with 30 or 31 days (this is known as <em>calendrical</em> arithmetic).</p>
<pre class="language-julia"><code>my_birthday + Day(90)</code></pre>
<pre class="output"><code>1987-12-12</code></pre>
<p>We can add as many as we like:</p>
<pre class="language-julia"><code>my_birthday + Day(90) + Month(2) + Year(1)</code></pre>
<pre class="output"><code>1989-02-11</code></pre>
<p>In case you’re ever wondering: “What can I do with dates again? What is available?”, then you can use <code>methodswith</code> to check it out. We show only the first 20 results here:</p>
<pre class="language-julia"><code>first(methodswith(Date), 20)</code></pre>
<pre class="output"><code>[1] +(t::Time, dt::Date) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:22
[2] +(dt::Date, t::Time) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:21
[3] +(dt::Date, y::Year) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:29
[4] +(dt::Date, z::Month) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:56
[5] +(x::Date, y::Quarter) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:75
[6] +(x::Date, y::Week) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:79
[7] +(x::Date, y::Day) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:81
[8] +(x::Date, y::Unitful.Quantity) @ Unitful ~/.julia/packages/Unitful/HCJFR/src/dates.jl:199
[9] +(y::Unitful.Quantity, x::Date) @ Unitful ~/.julia/packages/Unitful/HCJFR/src/dates.jl:203
[10] -(dt::Date, y::Year) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:37
[11] -(dt::Date, z::Month) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:68
[12] -(x::Date, y::Quarter) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:76
[13] -(x::Date, y::Week) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:80
[14] -(x::Date, y::Day) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/arithmetic.jl:82
[15] -(x::Date, y::Unitful.Quantity) @ Unitful ~/.julia/packages/Unitful/HCJFR/src/dates.jl:199
[16] (::Colon)(a::T, b::T) where T&lt;:Date @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/ranges.jl:7
[17] convert(::Type{DateTime}, dt::Date) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/conversions.jl:30
[18] convert(::Type{Day}, dt::Date) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/conversions.jl:37
[19] floor(dt::Date, p::Day) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/rounding.jl:73
[20] floor(dt::Date, p::Week) @ Dates /opt/hostedtoolcache/julia/1.11.7/x64/share/julia/stdlib/v1.11/Dates/src/rounding.jl:66</code></pre>
<p>From this, we can conclude that we can also use the plus <code>+</code> and minus <code>-</code> operator. Let’s see how old Jose is, in days:</p>
<pre class="language-julia"><code>today() - my_birthday</code></pre>
<pre class="output"><code>13903 days</code></pre>
<p>The <strong>default duration</strong> of <code>Date</code> types is a <code>Day</code> instance. For the <code>DateTime</code>, the default duration is <code>Millisecond</code> instance:</p>
<pre class="language-julia"><code>DateTime(today()) - DateTime(my_birthday)</code></pre>
<pre class="output"><code>1201219200000 milliseconds</code></pre>
<h4 data-number="3.5.1.5" id="sec:dates_intervals"><span class="header-section-number">3.5.1.5</span> Date Intervals</h4>
<p>One nice thing about <code>Dates</code> module is that we can also easily construct <strong>date and time intervals</strong>. Julia is clever enough to not have to define the whole interval types and operations that we covered in Section <a href="/data_structures#sec:ranges">3.3.6</a>. It just extends the functions and operations defined for range to <code>Date</code>’s types. This is known as multiple dispatch and we already covered this in <em>Why Julia?</em> (Section <a href="/why_julia#sec:why_julia">2</a>).</p>
<p>For example, suppose that you want to create a <code>Day</code> interval. This is easy done with the colon <code>:</code> operator:</p>
<pre class="language-julia"><code>Date(&quot;2021-01-01&quot;):Day(1):Date(&quot;2021-01-07&quot;)</code></pre>
<pre class="output"><code>2021-01-01</code></pre>
<pre class="output"><code>2021-01-02</code></pre>
<pre class="output"><code>2021-01-03</code></pre>
<pre class="output"><code>2021-01-04</code></pre>
<pre class="output"><code>2021-01-05</code></pre>
<pre class="output"><code>2021-01-06</code></pre>
<pre class="output"><code>2021-01-07</code></pre>
<p>There is nothing special in using <code>Day(1)</code> as the interval, we can <strong>use whatever <code>Period</code> type</strong> as interval. For example, using 3 days as the interval:</p>
<pre class="language-julia"><code>Date(&quot;2021-01-01&quot;):Day(3):Date(&quot;2021-01-07&quot;)</code></pre>
<pre class="output"><code>2021-01-01</code></pre>
<pre class="output"><code>2021-01-04</code></pre>
<pre class="output"><code>2021-01-07</code></pre>
<p>Or even months:</p>
<pre class="language-julia"><code>Date(&quot;2021-01-01&quot;):Month(1):Date(&quot;2021-03-01&quot;)</code></pre>
<pre class="output"><code>2021-01-01</code></pre>
<pre class="output"><code>2021-02-01</code></pre>
<pre class="output"><code>2021-03-01</code></pre>
<p>Note that the <strong>type of this interval is a <code>StepRange</code> with the <code>Date</code> and concrete <code>Period</code> type</strong> we used as interval inside the colon <code>:</code> operator:</p>
<pre class="language-julia"><code>date_interval = Date(&quot;2021-01-01&quot;):Month(1):Date(&quot;2021-03-01&quot;)
typeof(date_interval)</code></pre>
<pre class="output"><code>StepRange{Date, Month}</code></pre>
<p>We can convert this to a <strong>vector</strong> with the <code>collect</code> function:</p>
<pre class="language-julia"><code>collected_date_interval = collect(date_interval)</code></pre>
<pre class="output"><code>2021-01-01</code></pre>
<pre class="output"><code>2021-02-01</code></pre>
<pre class="output"><code>2021-03-01</code></pre>
<p>And have all the <strong>array functionalities available</strong>, like, for example, indexing:</p>
<pre class="language-julia"><code>collected_date_interval[end]</code></pre>
<pre class="output"><code>2021-03-01</code></pre>
<p>We can also <strong>broadcast date operations</strong> to our vector of <code>Date</code>s:</p>
<pre class="language-julia"><code>collected_date_interval .+ Day(10)</code></pre>
<pre class="output"><code>2021-01-11</code></pre>
<pre class="output"><code>2021-02-11</code></pre>
<pre class="output"><code>2021-03-11</code></pre>
<p>Similarly, these examples work for <code>DateTime</code> types too.</p>
<h3 data-number="3.5.2" id="sec:random"><span class="header-section-number">3.5.2</span> Random Numbers</h3>
<p>Another important module in Julia’s standard library is the <code>Random</code> module. This module deals with <strong>random number generation</strong>. <code>Random</code> is a rich library and, if you’re interested, you should consult <a href="https://docs.julialang.org/en/v1/stdlib/Random/">Julia’s <code>Random</code> documentation</a>. We will cover <em>only</em> three functions: <code>rand</code>, <code>randn</code> and <code>seed!</code>.</p>
<p>To begin, we first load the <code>Random</code> module. Since we know exactly what we want to load, we can just as well do that explicitly:</p>
<pre class="julia"><code>using Random: seed!</code></pre>
<p>We have <strong>two main functions that generate random numbers</strong>:</p>
<ul>
<li><code>rand</code>: samples a <strong>random element</strong> of a data structure or type.</li>
<li><code>randn</code>: samples a random number from a <strong>standard normal distribution</strong> (mean 0 and standard deviation 1).</li>
</ul>
<h4 data-number="3.5.2.1" id="sec:random_rand"><span class="header-section-number">3.5.2.1</span> <code>rand</code></h4>
<p>By default, if you call <code>rand</code> without arguments it will return a <code>Float64</code> in the interval <span class="math inline">\([0, 1)\)</span>, which means between 0 inclusive to 1 exclusive:</p>
<pre class="language-julia"><code>rand()</code></pre>
<pre class="output"><code>
0.03091701287545645
</code></pre>
<p>You can modify <code>rand</code> arguments in several ways. For example, suppose you want more than 1 random number:</p>
<pre class="language-julia"><code>rand(3)</code></pre>
<pre class="output"><code>[0.19873541698291441, 0.7042048861699394, 0.2702294862838601]</code></pre>
<p>Or, you want a different interval:</p>
<pre class="language-julia"><code>rand(1.0:10.0)</code></pre>
<pre class="output"><code>
4.0
</code></pre>
<p>You can also specify a different step size inside the interval and a different type. Here we are using numbers without the dot <code>.</code> so Julia will interpret them as <code>Int64</code> and not as <code>Float64</code>:</p>
<pre class="language-julia"><code>rand(2:2:20)</code></pre>
<pre class="output"><code>
4
</code></pre>
<p>You can also mix and match arguments:</p>
<pre class="language-julia"><code>rand(2:2:20, 3)</code></pre>
<pre class="output"><code>[2, 2, 6]</code></pre>
<p>It also supports a collection of elements as a tuple:</p>
<pre class="language-julia"><code>rand((42, &quot;Julia&quot;, 3.14))</code></pre>
<pre class="output"><code>
Julia
</code></pre>
<p>And also arrays:</p>
<pre class="language-julia"><code>rand([1, 2, 3])</code></pre>
<pre class="output"><code>
3
</code></pre>
<p><code>Dict</code>s:</p>
<pre class="language-julia"><code>rand(Dict(:one =&gt; 1, :two =&gt; 2))</code></pre>
<pre class="output"><code>:two =&gt; 2</code></pre>
<p>For all the <code>rand</code> arguments options, you can specify the desired random number dimensions in a tuple. If you do this, the returned type will be an array. For example, here’s a 2x2 matrix of <code>Float64</code> numbers between 1.0 and 3.0:</p>
<pre class="language-julia"><code>rand(1.0:3.0, (2, 2))</code></pre>
<pre class="output"><code>2×2 Matrix{Float64}:
 2.0  2.0
 2.0  2.0</code></pre>
<h4 data-number="3.5.2.2" id="sec:random_randn"><span class="header-section-number">3.5.2.2</span> <code>randn</code></h4>
<p><code>randn</code> follows the same general principle from <code>rand</code> but now it only returns numbers generated from the <strong>standard normal distribution</strong>. The standard normal distribution is the normal distribution with mean 0 and standard deviation 1. The default type is <code>Float64</code> and it only allows for subtypes of <code>AbstractFloat</code> or <code>Complex</code>:</p>
<pre class="language-julia"><code>randn()</code></pre>
<pre class="output"><code>
0.4820110853035048
</code></pre>
<p>We can only specify the size:</p>
<pre class="language-julia"><code>randn((2, 2))</code></pre>
<pre class="output"><code>2×2 Matrix{Float64}:
 -0.870742  0.495615
 -0.836398  0.928398</code></pre>
<h4 data-number="3.5.2.3" id="sec:random_seed"><span class="header-section-number">3.5.2.3</span> <code>seed!</code></h4>
<p>To finish off the <code>Random</code> overview, let’s talk about <strong>reproducibility</strong>. Often, we want to make something <strong>replicable</strong>. Meaning that, we want the random number generator to generate the <strong>same random sequence of numbers</strong>. We can do so with the <code>seed!</code> function:</p>
<pre class="language-julia"><code>seed!(123)
rand(3)</code></pre>
<pre class="output"><code>[0.521213795535383, 0.5868067574533484, 0.8908786980927811]</code></pre>
<pre class="language-julia"><code>seed!(123)
rand(3)</code></pre>
<pre class="output"><code>[0.521213795535383, 0.5868067574533484, 0.8908786980927811]</code></pre>
<p>In some cases, calling <code>seed!</code> at the beginning of your script is not good enough. To avoid <code>rand</code> or <code>randn</code> to depend on a global variable, we can instead define an instance of a <code>seed!</code> and pass it as a first argument of <strong>either <code>rand</code> or <code>randn</code></strong>.</p>
<pre class="language-julia"><code>my_seed = seed!(123)</code></pre>
<pre class="output"><code>Random.TaskLocalRNG()</code></pre>
<pre class="language-julia"><code>rand(my_seed, 3)</code></pre>
<pre class="output"><code>[0.521213795535383, 0.5868067574533484, 0.8908786980927811]</code></pre>
<pre class="language-julia"><code>rand(my_seed, 3)</code></pre>
<pre class="output"><code>[0.19090669902576285, 0.5256623915420473, 0.3905882754313441]</code></pre>
<blockquote>
<p><strong><em>NOTE:</em></strong> Note that these numbers might differ for different Julia versions. To have stable streams across Julia versions use the <code>StableRNGs.jl</code> package.</p>
</blockquote>
<h3 data-number="3.5.3" id="sec:downloads"><span class="header-section-number">3.5.3</span> Downloads</h3>
<p>We’ll also cover the standard library’s <strong><code>Downloads</code> module</strong>. It will be really brief because we will only be covering a single function named <code>download</code>.</p>
<p>Suppose you want to <strong>download a file from the internet to your local storage</strong>. You can accomplish this with the <code>download</code> function. The first and only required argument is the file’s url. You can also specify as a second argument the desired output path for the downloaded file (don’t forget the filesystem best practices!). If you don’t specify a second argument, Julia will, by default, create a temporary file with the <code>tempfile</code> function.</p>
<p>Let’s load the <code>Downloads</code> module:</p>
<pre class="julia"><code>using Downloads</code></pre>
<p>For example, let’s download our <a href="https://github.com/JuliaDataScience/JuliaDataScience"><code>JuliaDataScience</code> GitHub repository</a> <code>Project.toml</code> file. Note that <code>download</code> function is not exported by <code>Downloads</code> module, so we have to use the <code>Module.function</code> syntax. By default, it returns a string that holds the file path for the downloaded file:</p>
<pre class="language-julia"><code>url = &quot;https://raw.githubusercontent.com/JuliaDataScience/JuliaDataScience/main/Project.toml&quot;

my_file = Downloads.download(url) # tempfile() being created</code></pre>
<pre class="output"><code>
/tmp/jl_CLy121UH0N
</code></pre>
<p>With <code>readlines</code>, we can look at the first 4 lines of our downloaded file:</p>
<pre class="language-julia"><code>readlines(my_file)[1:4]</code></pre>
<pre class="output"><code>4-element Vector{String}:
 &quot;name = \&quot;JDS\&quot;&quot;
 &quot;uuid = \&quot;6c596d62-2771-44f8-8373-3ec4b616ee9d\&quot;&quot;
 &quot;authors = [\&quot;Jose Storopoli &lt;jose@storopoli.com&gt;\&quot;, \&quot;Rik Huijzer &lt;huijzer.xyzcontact.stylishly377@passmail.net&gt;\&quot;, \&quot;Lazaro Alonso &lt;lazarus.alon@gmail.com&gt;\&quot;]&quot;
 &quot;&quot;</code></pre>
<blockquote>
<p><strong><em>NOTE:</em></strong> For more complex HTTP interactions such as interacting with web APIs, see the <a href="https://github.com/JuliaWeb/HTTP.jl"><code>HTTP.jl</code> package</a>.</p>
</blockquote>
<h3 data-number="3.5.4" id="sec:project_management"><span class="header-section-number">3.5.4</span> Project Management</h3>
<p>One last thing from Julia’s standard library for us to cover is the <strong><code>Pkg</code> module</strong>. As described in Section <a href="/programmers#sec:programmers">2.2</a>, Julia offers a <strong>built-in package manager</strong>, with dependencies and version control tightly controlled, manageable, and replicable.</p>
<p>Unlike traditional package managers, which install and manage a single global set of packages, Julia’s package manager is designed around “environments”: independent sets of packages that can be local to an individual project or shared between projects. Each project maintains its own independent set of package versions.</p>
<h4 data-number="3.5.4.1" id="sec:project_management_toml"><span class="header-section-number">3.5.4.1</span> <code>Project.toml</code> and <code>Manifest.toml</code></h4>
<p>Inside every project environment there is a simple setup involving <a href="https://toml.io"><code>.toml</code></a> files in a folder. The folder, in this context, can be perceived as a “project” folder. The project environment is derived on two <code>.toml</code> files:</p>
<ul>
<li><strong><code>Project.toml</code></strong>: <em>higher</em>-level description of the project environment with the top-level package list.</li>
<li><strong><code>Manifest.toml</code></strong>: <em>lower</em>-level description of the project environment with the full dependencies list and their versions. This file is machine-generated, which means that users are not encouraged to edit it.</li>
</ul>
<h4 data-number="3.5.4.2" id="sec:project_management_creating"><span class="header-section-number">3.5.4.2</span> Creating Project Environments</h4>
<p>In order to create a new project environment, you can <strong>enter the <code>Pkg</code> REPL mode by typing <code>]</code> (right-bracket) in the Julia REPL</strong>:</p>
<pre class="julia-repl"><code>julia&gt;]</code></pre>
<p>Then it becomes the <strong><code>Pkg</code> REPL mode</strong>:</p>
<pre class="julia-repl"><code>(@v1.8) pkg&gt;</code></pre>
<p>Here we can see that the REPL prompts changes from <code>julia&gt;</code> to <code>pkg&gt;</code>. There’s also additional information inside the parentheses regarding which project environment is currently active, <code>(@v1.8)</code>. The <code>v1.8</code> project environment is the default environment for your currently Julia installation (which in our case is Julia version <code>1.8.X</code>).</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> You can see a list of available commands in the <code>Pkg</code> REPL mode with the <strong><code>help</code> command</strong>.</p>
</blockquote>
<p>Julia has separate default environments for each minor release, the <code>X</code>s in the <code>1.X</code> Julia version. Anything that we perform in this default environment will impact any fresh Julia session on that version. Hence, we need to create a new environment by using the <strong><code>activate</code> command</strong>:</p>
<pre class="julia-repl"><code>(@v1.8) pkg&gt; activate .
  Activating project at `~/user/folder`

(folder) pkg&gt;</code></pre>
<p>This activates a project environment in the directory that your Julia REPL is running. In my case this is located at <code>~/user/folder</code>. Now we can start adding packages to our project environment with the <strong><code>add</code> command</strong> in the <code>Pkg</code> REPL mode:</p>
<pre class="julia-repl"><code>(folder) pkg&gt; add DataFrames
    Updating registry at `~/.julia/registries/General.toml`
   Resolving package versions...
    Updating `~/user/folder/Project.toml`
  [a93c6f00] + DataFrames v1.4.3
    Updating `~/user/folder/Manifest.toml`
  [34da2185] + Compat v4.4.0
  [a8cc5b0e] + Crayons v4.1.1
  [9a962f9c] + DataAPI v1.13.0
  [a93c6f00] + DataFrames v1.4.3
  [864edb3b] + DataStructures v0.18.13
  [e2d170a0] + DataValueInterfaces v1.0.0
  [59287772] + Formatting v0.4.2
  [41ab1584] + InvertedIndices v1.1.0
  [82899510] + IteratorInterfaceExtensions v1.0.0
  [b964fa9f] + LaTeXStrings v1.3.0
  [e1d29d7a] + Missings v1.0.2
  [bac558e1] + OrderedCollections v1.4.1
  [2dfb63ee] + PooledArrays v1.4.2
  [08abe8d2] + PrettyTables v2.2.1
  [189a3867] + Reexport v1.2.2
  [66db9d55] + SnoopPrecompile v1.0.1
  [a2af1166] + SortingAlgorithms v1.1.0
  [892a3eda] + StringManipulation v0.3.0
  [3783bdb8] + TableTraits v1.0.1
  [bd369af6] + Tables v1.10.0
  [56f22d72] + Artifacts
  [2a0f44e3] + Base64
  [ade2ca70] + Dates
  [9fa8497b] + Future
  [b77e0a4c] + InteractiveUtils
  [8f399da3] + Libdl
  [37e2e46d] + LinearAlgebra
  [56ddb016] + Logging
  [d6f4376e] + Markdown
  [de0858da] + Printf
  [3fa0cd96] + REPL
  [9a3f8284] + Random
  [ea8e919c] + SHA v0.7.0
  [9e88b42a] + Serialization
  [6462fe0b] + Sockets
  [2f01184e] + SparseArrays
  [10745b16] + Statistics
  [8dfed614] + Test
  [cf7118a7] + UUIDs
  [4ec0a83e] + Unicode
  [e66e0078] + CompilerSupportLibraries_jll v0.5.2+0
  [4536629a] + OpenBLAS_jll v0.3.20+0
  [8e850b90] + libblastrampoline_jll v5.1.1+0</code></pre>
<p>From the <code>add</code> output, we can see that Julia automatically creates <em>both</em> the <code>Project.toml</code> and <code>Manifest.toml</code> files. In the <code>Project.toml</code>, it adds a new package to the project environment package list. Here are the contents of the <code>Project.toml</code>:</p>
<pre class="toml"><code>[deps]
DataFrames = &quot;a93c6f00-e57d-5684-b7b6-d8193f3e46c0&quot;</code></pre>
<p>This is a <code>.toml</code> file where:</p>
<ul>
<li><code>[deps]</code>: a TOML table (also know as <em>hash tables</em> or <em>dictionaries</em>)</li>
<li><code>DataFrames</code>: a key in the TOML <code>deps</code> table; this is the name of the package</li>
<li><code>"a93c6f00-e57d-5684-b7b6-d8193f3e46c0"</code>: the value for the <code>DataFrames</code> key; this is the <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">universally unique identifier (UUID)</a> of the package.</li>
</ul>
<p>Let’s also take a peek into the <code>Manifest.toml</code>. Here we will truncate the output since it is a big machine-generated file:</p>
<pre class="toml"><code># This file is machine-generated - editing it directly is not advised

julia_version = &quot;1.8.3&quot;
manifest_format = &quot;2.0&quot;
project_hash = &quot;376d427149ea94494cc22001edd58d53c9b2bee1&quot;

[[deps.Artifacts]]
uuid = &quot;56f22d72-fd6d-98f1-02f0-08ddc0907c33&quot;

...

[[deps.DataFrames]]
deps = [&quot;Compat&quot;, &quot;DataAPI&quot;, &quot;Future&quot;, &quot;InvertedIndices&quot;, &quot;IteratorInterfaceExtensions&quot;, &quot;LinearAlgebra&quot;, &quot;Markdown&quot;, &quot;Missings&quot;, &quot;PooledArrays&quot;, &quot;PrettyTables&quot;, &quot;Printf&quot;, &quot;REPL&quot;, &quot;Random&quot;, &quot;Reexport&quot;, &quot;SnoopPrecompile&quot;, &quot;SortingAlgorithms&quot;, &quot;Statistics&quot;, &quot;TableTraits&quot;, &quot;Tables&quot;, &quot;Unicode&quot;]
git-tree-sha1 = &quot;0f44494fe4271cc966ac4fea524111bef63ba86c&quot;
uuid = &quot;a93c6f00-e57d-5684-b7b6-d8193f3e46c0&quot;
version = &quot;1.4.3&quot;

...

[[deps.libblastrampoline_jll]]
deps = [&quot;Artifacts&quot;, &quot;Libdl&quot;, &quot;OpenBLAS_jll&quot;]
uuid = &quot;8e850b90-86db-534c-a0d3-1478176c7d93&quot;
version = &quot;5.1.1+0&quot;</code></pre>
<p>The three dots above (<code>...</code>) represents truncated output. First, the <code>Manifest.toml</code> presents us a comment saying that it is machine-generated and discouragin editing it directly. Then, there are entries for the Julia version (<code>julia_version</code>), <code>Manifest.toml</code> format version (<code>manifest_format</code>), and project environment hash (<code>project_hash</code>). Finally, it proceeds with a TOML array of tables which are the double brackets entries (<code>[[...]]</code>). These entries stands for the dependencies of all packages necessary to create the environment described in the <code>Project.toml</code>. Therefore all of the <code>DataFrames.jl</code>‘s dependencies and its dependencies’ dependencies (and so on…) are listed here with their name, UUID, and version.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> Julia’s standard library module do not have a <code>version</code> key in the <code>Manifest.toml</code> because they are already specified by the Julia version (<code>julia_version</code>). This is the case for the <code>Artifacts</code> entry in the truncated <code>Manifest.toml</code> output above, since it is a module in Julia’s standard library.</p>
</blockquote>
<p>We can keep adding as many packages as we like with the <code>add</code> command. To remove a package you can use the <strong><code>rm</code> command</strong> in the <code>Pkg</code> REPL mode:</p>
<pre class="julia-repl"><code>(folder) pkg&gt; rm DataFrames
    Updating `~/user/folder/Project.toml`
  [a93c6f00] - DataFrames v1.4.3
    Updating `~/user/folder/Manifest.toml`
  [34da2185] - Compat v4.4.0
  [a8cc5b0e] - Crayons v4.1.1
  [9a962f9c] - DataAPI v1.13.0
  [a93c6f00] - DataFrames v1.4.3
  [864edb3b] - DataStructures v0.18.13
  [e2d170a0] - DataValueInterfaces v1.0.0
  [59287772] - Formatting v0.4.2
  [41ab1584] - InvertedIndices v1.1.0
  [82899510] - IteratorInterfaceExtensions v1.0.0
  [b964fa9f] - LaTeXStrings v1.3.0
  [e1d29d7a] - Missings v1.0.2
  [bac558e1] - OrderedCollections v1.4.1
  [2dfb63ee] - PooledArrays v1.4.2
  [08abe8d2] - PrettyTables v2.2.1
  [189a3867] - Reexport v1.2.2
  [66db9d55] - SnoopPrecompile v1.0.1
  [a2af1166] - SortingAlgorithms v1.1.0
  [892a3eda] - StringManipulation v0.3.0
  [3783bdb8] - TableTraits v1.0.1
  [bd369af6] - Tables v1.10.0
  [56f22d72] - Artifacts
  [2a0f44e3] - Base64
  [ade2ca70] - Dates
  [9fa8497b] - Future
  [b77e0a4c] - InteractiveUtils
  [8f399da3] - Libdl
  [37e2e46d] - LinearAlgebra
  [56ddb016] - Logging
  [d6f4376e] - Markdown
  [de0858da] - Printf
  [3fa0cd96] - REPL
  [9a3f8284] - Random
  [ea8e919c] - SHA v0.7.0
  [9e88b42a] - Serialization
  [6462fe0b] - Sockets
  [2f01184e] - SparseArrays
  [10745b16] - Statistics
  [8dfed614] - Test
  [cf7118a7] - UUIDs
  [4ec0a83e] - Unicode
  [e66e0078] - CompilerSupportLibraries_jll v0.5.2+0
  [4536629a] - OpenBLAS_jll v0.3.20+0
  [8e850b90] - libblastrampoline_jll v5.1.1+0</code></pre>
<blockquote>
<p><strong><em>NOTE:</em></strong> Julia’s <code>Pkg</code> REPL mode supports autocompletion with <code>&lt;TAB&gt;</code>. You can, for example, in the above command start typing <code>rm DataF&lt;TAB&gt;</code> and it will autocomplete to <code>rm DataFrames</code>.</p>
</blockquote>
<p>We can see that <code>rm DataFrames</code> undoes <code>add DataFrame</code> by removing entries in <em>both</em> <code>Project.toml</code> and <code>Manifest.toml</code>.</p>
<h4 data-number="3.5.4.3" id="sec:project_management_sharing"><span class="header-section-number">3.5.4.3</span> Sharing Project Environments</h4>
<p>Once you have a project environment with <em>both</em> the <code>Project.toml</code> and <code>Manifest.toml</code> files, you can <strong>share</strong> it with any user to have a <strong>perfectly reproducible project environment</strong>.</p>
<p>Now let’s cover the other end of the process. Suppose you received a <code>Project.toml</code> and a <code>Manifest.toml</code> from someone.</p>
<p>How would you proceed to <strong>instantiate a Julia project environment</strong>?</p>
<p>It is a simple process:</p>
<ol type="1">
<li>Put the <code>Project.toml</code> and a <code>Manifest.toml</code> files into a folder.</li>
<li>Open a Julia REPL in that folder and activate it as a project environment with <code>]activate</code>.</li>
<li>Instantiate the environment with the <code>]instantiate</code> command.</li>
</ol>
<p>That’s it! Once the project environment finished downloading and instantiating the dependencies listed in the <code>Project.toml</code> and <code>Manifest.toml</code> files, you’ll have an exact copy of the project environment sent to you.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> You can also add <code>[compat]</code> bounds in the <code>Project.toml</code> to specify which package versions your project environment is compatible with. This is an advanced-user functionality which we will not cover. Take a look at the <a href="https://pkgdocs.julialang.org/v1/compatibility/"><code>Pkg.jl</code> standard library module documentation on compatibility</a>. For people new to Julia, we recommend sharing <em>both</em> <code>Project.toml</code> and <code>Manifest.toml</code> for a fully reproducible environment.</p>
</blockquote>


<div class="bottom-nav">
    <p id="nav-prev" style="text-align: left;">
        <a class="menu-level-2" href="/filesystem"><b>3.4</b> Filesystem</a> <kbd>←</kbd>
        <span id="nav-next" style="float: right;">
            <kbd>→</kbd> <a class="menu-level-1" href="/dataframes"><b>4</b> DataFrames.jl</a>
        </span>
    </p>
</div>


<div class="license">
    <br/>
  <br/>
  <span style="display: flex; justify-content: center;"> <a
      style="display: flex; align-items: center; border: 1.5px solid black; border-radius: 10px;"
      href="https://opencollective.com/juliadatascience" target="_blank"> <img src="/images/coffee.png" height="18px" style="margin: 5px; display:inline"> <span style="margin-left: 4px; color: black !important">Support this project</span> </a> </span> <br> <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>
    Jose Storopoli, Rik Huijzer, Lazaro Alonso
</div>
</div>
</div>
</body>
</html>